{"version":3,"file":"index.js","sourceRoot":"","sources":["../source/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAkB,MAAM,6BAA6B,CAAA;AAC1E,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAA;AAClD,OAAO,EAAE,YAAY,EAAE,MAAM,gCAAgC,CAAA;AAE7D,OAAO,EAAE,YAAY,EAAE,CAAA;AAEvB,MAAM,OAAO,iBAAiB;IAC7B,YAAmC,GAAiB;QAAjB,QAAG,GAAH,GAAG,CAAc;QAEpC,SAAI,GAAG,KAAK,EAAE,EAAU,EAAE,eAAuB,EAAE,UAA0B,EAAE,KAAa,EAAuB,EAAE;YACpI,OAAO,MAAM,IAAI,CAAC,GAAG,CAAC,oBAAoB,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,eAAe,EAAE,UAAU,CAAC,EAAE,KAAK,EAAE,CAAC,CAAA;QACjI,CAAC,CAAA;QAEe,sBAAiB,GAAG,KAAK,EAAE,EAAU,EAAE,eAAuB,EAAE,UAA0B,EAAE,KAAa,EAA+B,EAAE;YACzJ,OAAO,MAAM,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,eAAe,EAAE,UAAU,CAAC,EAAE,KAAK,EAAE,CAAC,CAAA;QAChI,CAAC,CAAA;IARuD,CAAC;CASzD","sourcesContent":["import { encodeMethod, EncodableArray } from '@zoltu/ethereum-abi-encoder'\nimport { keccak256 } from '@zoltu/ethereum-crypto'\nimport { FetchJsonRpc } from '@zoltu/ethereum-fetch-json-rpc'\n\nexport { FetchJsonRpc }\n\nexport class FetchDependencies implements Dependencies {\n\tpublic constructor(public readonly rpc: FetchJsonRpc) { }\n\n\tpublic readonly call = async (to: bigint, methodSignature: string, parameters: EncodableArray, value: bigint): Promise<Uint8Array> => {\n\t\treturn await this.rpc.offChainContractCall({ to, data: await encodeMethod(keccak256.hash, methodSignature, parameters), value })\n\t}\n\n\tpublic readonly submitTransaction = async (to: bigint, methodSignature: string, parameters: EncodableArray, value: bigint): Promise<TransactionReceipt> => {\n\t\treturn await this.rpc.onChainContractCall({ to, data: await encodeMethod(keccak256.hash, methodSignature, parameters), value })\n\t}\n}\n\n\n/*\nThese are copied from the generator output.\n */\nexport interface Log {\n\treadonly topics: ReadonlyArray<bigint>\n\treadonly data: Uint8Array\n}\nexport interface TransactionReceipt {\n\treadonly status: boolean\n\treadonly logs: Iterable<Log>\n}\nexport interface Dependencies {\n\tcall(address: bigint, methodSignature: string, methodParameters: EncodableArray, value: bigint): Promise<Uint8Array>\n\tsubmitTransaction(address: bigint, methodSignature: string, methodParameters: EncodableArray, value: bigint): Promise<TransactionReceipt>\n}\n"]}