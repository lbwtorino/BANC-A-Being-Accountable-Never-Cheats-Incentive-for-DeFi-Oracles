"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FetchDependencies = exports.FetchJsonRpc = void 0;
const ethereum_abi_encoder_1 = require("@zoltu/ethereum-abi-encoder");
const ethereum_crypto_1 = require("@zoltu/ethereum-crypto");
const ethereum_fetch_json_rpc_1 = require("@zoltu/ethereum-fetch-json-rpc");
Object.defineProperty(exports, "FetchJsonRpc", { enumerable: true, get: function () { return ethereum_fetch_json_rpc_1.FetchJsonRpc; } });
class FetchDependencies {
    constructor(rpc) {
        this.rpc = rpc;
        this.call = async (to, methodSignature, parameters, value) => {
            return await this.rpc.offChainContractCall({ to, data: await ethereum_abi_encoder_1.encodeMethod(ethereum_crypto_1.keccak256.hash, methodSignature, parameters), value });
        };
        this.submitTransaction = async (to, methodSignature, parameters, value) => {
            return await this.rpc.onChainContractCall({ to, data: await ethereum_abi_encoder_1.encodeMethod(ethereum_crypto_1.keccak256.hash, methodSignature, parameters), value });
        };
    }
}
exports.FetchDependencies = FetchDependencies;
//# sourceMappingURL=index.js.map